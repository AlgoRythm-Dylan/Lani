<!DOCTYPE html>
<head>
    <title>Lani</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Mukta&family=Square+Peg&display=swap" rel="stylesheet"> 
    <script src="lani/lani.js"></script>
    <link href="lani/lani.css" type="text/css" rel="stylesheet"></link>
</head>
<body class="l-body">
    <lani-table table-title="oh, wow!"></lani-table>
</body>
<script>
    async function main(){
        let dataSource = new Lani.DataSource();
        let data = await (await fetch("/pkmn-tcgo.json")).json();
        await dataSource.insertAll(Lani.ungroup(Lani.group(data)));

        let dataManager = new Lani.DataManager();
        dataManager.dataSource = dataSource;
        dataManager.groups = ["Type", "Stage"];
        dataManager.pagination.enabled = true;
        let grouped = await dataManager.getGrouped();
        console.log("Grouped:");
        console.table(grouped);
        console.log("De-grouped:");
        console.table(Lani.ungroup(grouped));
    }

    window.addEventListener("load", main);
</script>