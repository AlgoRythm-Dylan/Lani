<!DOCTYPE html>
<head>
    <title>Lani</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Mukta&family=Square+Peg&display=swap" rel="stylesheet"> 
    <script src="lani/lani.js"></script>
    <link href="lani/lani.css" type="text/css" rel="stylesheet"></link>
    <!--

        Now this is some bullshit

        the @font-face rule not doesn't work inside web components
        because their sandbox is shit.

        So for font-awesome-esque webfonts, you need to import
        them at the global scope, outside of the component

        EVEN IF you import them inside the web component (as Lani does)

    -->
    <link href="fontawesome/solid.min.css" type="text/css" rel="stylesheet"></link>
    <link href="fontawesome/fontawesome.min.css" type="text/css" rel="stylesheet"></link>
</head>
<body class="l-body">
    <lani-table table-title="oh, wow!"></lani-table>
    <lani-paginator class="l-shadow"></lani-paginator>
</body>
<script>
    async function main(){
        let dataSource = new Lani.DataSource();
        let data = await (await fetch("/tcgo-pkmn.json")).json();
        await dataSource.insertAll(Lani.ungroup(Lani.group(data, ["Type", "Stage"])));

        let dataManager = new Lani.DataManager();
        dataManager.dataSource = dataSource;
        dataManager.pagination.enabled = true;
        let grouped = await dataManager.getGrouped();
        console.log("Grouped:");
        console.table(grouped);
        console.log("De-grouped:");
        console.table(Lani.ungroup(grouped));
    }

    //window.addEventListener("load", main);
</script>